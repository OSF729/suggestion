<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>오뚜기에스에프 건의합니다</title>
    <script src="https://unpkg.com/react@17/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;
        const { Users, Building2, AlertTriangle, Plus, Search, Clock, User, Shield, Reply, Lock, Lightbulb } = lucide;

        function App() {
            const [currentBoard, setCurrentBoard] = useState('main');
            const [suggestions, setSuggestions] = useState({
                team: [
                    { id: 1, title: '팀 회의 시간 조정 건의', author: '익명', date: '2025-06-18', status: '검토중', preview: '매주 금요일 오후 회의 시간을 조정해주세요...', reply: null, password: 'pass123' },
                    { id: 2, title: '업무 분담에 대한 의견', author: '익명', date: '2025-06-17', status: '완료', preview: '프로젝트 업무 분담이 불균등한 것 같습니다...', reply: { content: '말씀해주신 업무 분담 관련하여 팀장과 논의한 결과, 다음 프로젝트부터는 각자의 전문성과 업무량을 고려하여 더 균등하게 배분하겠습니다.', author: '인사팀 박영희', date: '2025-06-17' }, password: 'test456' }
                ],
                company: [
                    { id: 3, title: '사내 카페테리아 메뉴 개선', author: '익명', date: '2025-06-18', status: '검토중', preview: '점심시간 메뉴가 너무 한정적입니다...', reply: null, password: 'abc789' },
                    { id: 4, title: '주차공간 확대 요청', author: '익명', date: '2025-06-16', status: '답변완료', preview: '직원 주차공간이 부족합니다...', reply: { content: '주차공간 확대 관련하여 검토한 결과, 내년 상반기에 인근 부지를 추가로 임대하여 주차공간을 30% 확대할 예정입니다. 그 전까지는 대중교통 이용 시 교통비 지원을 확대하겠습니다.', author: '총무팀 김철수', date: '2025-06-17' }, password: 'def123' }
                ],
                complaint: [
                    { id: 5, title: '사무실 에어컨 온도 조절', author: '익명', date: '2025-06-18', status: '접수', preview: '사무실이 너무 춥습니다...', reply: null, password: 'xyz456' },
                    { id: 6, title: '복사기 고장 신고', author: '익명', date: '2025-06-17', status: '처리중', preview: '3층 복사기가 자주 고장납니다...', reply: null, password: 'qwe789' }
                ],
                product: [
                    { id: 7, title: '건강한 저염 라면 개발', author: '김영수', date: '2025-06-18', status: '검토중', preview: '건강을 생각하는 소비자들을 위한 저염 라면...', reply: null, password: 'prod123' },
                    { id: 8, title: '간편한 도시락용 밥 제품', author: '익명', date: '2025-06-17', status: '개발검토', preview: '1인 가구와 직장인을 위한 간편 도시락 밥...', reply: { content: '제안해주신 간편 도시락용 밥 제품에 대해 상품기획팀에서 검토한 결과, 시장성이 높다고 판단되어 내년 상반기 출시를 목표로 개발에 착수하겠습니다. 추가 아이디어가 있으시면 언제든지 제안해주세요.', author: '상품기획팀 이지원', date: '2025-06-18' }, password: 'idea456' },
                    { id: 9, title: '비건 컵라면 시리즈', author: '익명', date: '2025-06-16', status: '접수', preview: '채식주의자들을 위한 완전 비건 컵라면...', reply: null, password: 'vegan789' }
                ]
            });

            const [showWriteForm, setShowWriteForm] = useState(false);
            const [selectedSuggestion, setSelectedSuggestion] = useState(null);
            const [isAdmin, setIsAdmin] = useState(false);
            const [showReplyForm, setShowReplyForm] = useState(false);
            const [passwordPrompt, setPasswordPrompt] = useState(null);
            const [inputPassword, setInputPassword] = useState('');
            const [showAdminLogin, setShowAdminLogin] = useState(false);
            const [adminPassword, setAdminPassword] = useState('');

            const boards = [
                { id: 'team', name: '팀장에게 건의합니다', icon: Users, color: 'bg-blue-500', count: suggestions.team.length },
                { id: 'company', name: '회사에 건의합니다', icon: Building2, color: 'bg-green-500', count: suggestions.company.length },
                { id: 'complaint', name: '불편해요', icon: AlertTriangle, color: 'bg-red-500', count: suggestions.complaint.length },
                { id: 'product', name: '아이디어 한 스푼!', icon: Lightbulb, color: 'bg-purple-500', count: suggestions.product.length }
            ];

            const getStatusColor = (status) => {
                switch(status) {
                    case '완료':
                    case '답변완료':
                        return 'bg-green-100 text-green-800';
                    case '검토중':
                    case '처리중':
                    case '개발검토':
                        return 'bg-yellow-100 text-yellow-800';
                    case '접수':
                        return 'bg-blue-100 text-blue-800';
                    default:
                        return 'bg-gray-100 text-gray-800';
                }
            };

            const handleSuggestionClick = (item) => {
                if (isAdmin) {
                    setSelectedSuggestion(item);
                } else {
                    setPasswordPrompt(item);
                }
            };

            const handleAdminLogin = () => {
                if (adminPassword === '3691') {
                    setIsAdmin(true);
                    setShowAdminLogin(false);
                    setAdminPassword('');
                } else {
                    alert('관리자 비밀번호가 올바르지 않습니다.');
                    setAdminPassword('');
                }
            };

            const getFullContent = (suggestion) => {
                if (suggestion.content) return suggestion.content;
                
                const contents = {
                    1: '매주 금요일 오후 회의 시간을 조정해주세요.\n\n안녕하세요. 인사팀에 건의사항이 있어 글을 남깁니다.\n\n현재 매주 금요일 오후 4시에 진행되는 팀 회의가 업무 마무리 시간과 겹쳐서 집중도가 떨어지는 것 같습니다.\n\n가능하다면 금요일 오전이나 목요일 오후로 시간을 조정해주시면 더 효율적인 회의가 될 것 같습니다.\n\n검토 부탁드립니다.\n\n감사합니다.',
                    2: '프로젝트 업무 분담이 불균등한 것 같습니다.\n\n현재 진행 중인 프로젝트에서 일부 팀원에게 업무가 집중되고 있어 업무 효율성이 떨어지고 있습니다.\n\n각자의 역량과 경험을 고려한 균등한 업무 분배가 필요할 것 같습니다.\n\n개선방안을 검토해주시면 감사하겠습니다.',
                    3: '점심시간 메뉴가 너무 한정적입니다.\n\n사내 카페테리아 이용에 관한 건의사항입니다.\n\n점심시간에 제공되는 메뉴가 한식 위주로만 구성되어 있어 선택의 폭이 제한적입니다.\n\n다양한 국적의 음식이나 샐러드, 간단한 양식 메뉴 등을 추가로 제공해주시면 직원들의 만족도가 높아질 것 같습니다.\n\n또한 채식주의자를 위한 메뉴도 고려해주시면 감사하겠습니다.\n\n검토 바랍니다.',
                    4: '직원 주차공간이 부족합니다.\n\n출근 시간에 주차공간을 찾기가 어려워 지각을 하는 경우가 종종 발생합니다.\n\n인근 부지 임대나 다층 주차장 건설 등을 통한 주차공간 확대를 검토해주시면 좋겠습니다.\n\n감사합니다.',
                    5: '사무실이 너무 춥습니다.\n\n사무실 에어컨 온도 조절에 관한 불편사항입니다.\n\n최근 날씨가 더워지면서 에어컨을 강하게 틀고 있는데, 일부 자리에서는 너무 춥게 느껴집니다.\n\n특히 에어컨 바로 아래 자리의 경우 긴팔을 입어도 추울 정도입니다.\n\n온도를 조금 높이거나 풍향 조절을 통해 개선해주시면 좋겠습니다.\n\n감사합니다.',
                    6: '3층 복사기가 자주 고장납니다.\n\n지난주부터 3층 복사기가 계속 종이 걸림이나 토너 부족 등의 문제가 발생하고 있습니다.\n\n업무에 지장이 있으니 점검이나 교체를 부탁드립니다.',
                    7: '건강을 생각하는 소비자들을 위한 저염 라면을 제안합니다.\n\n최근 건강에 대한 관심이 높아지면서 저염 식품에 대한 수요가 증가하고 있습니다.\n\n기존 라면 대비 나트륨 함량을 30% 이상 줄이면서도 맛은 유지할 수 있는 저염 라면 시리즈를 개발해보면 어떨까요?\n\n멸치, 다시마 등 천연 조미료를 활용하여 깊은 맛을 낼 수 있을 것 같습니다.\n\n건강한 라면으로 새로운 시장을 개척할 수 있을 것 같습니다.',
                    8: '1인 가구와 직장인을 위한 간편 도시락 밥을 제안합니다.\n\n혼밥족과 바쁜 직장인들이 늘어나면서 간편하게 먹을 수 있는 도시락용 밥에 대한 수요가 높습니다.\n\n전자레인지에 2분만 데우면 되는 개별 포장 밥 제품을 개발해보면 좋겠습니다.\n\n현미밥, 잡곡밥, 흰쌀밥 등 다양한 종류로 구성하고, 비빔밥용 양념장도 함께 제공하면 더욱 좋을 것 같습니다.\n\n편의점이나 온라인 판매를 통해 접근성을 높이면 시장성이 클 것 같습니다.',
                    9: '채식주의자들을 위한 완전 비건 컵라면을 제안합니다.\n\n최근 비건 인구가 늘어나면서 완전 채식 제품에 대한 수요가 증가하고 있습니다.\n\n동물성 원료를 전혀 사용하지 않은 비건 컵라면 시리즈를 개발하면 좋겠습니다.\n\n콩고기, 버섯, 채소 등을 활용한 다양한 맛으로 구성하고, 비건 인증마크도 획득하면 차별화가 될 것 같습니다.\n\n젊은 층과 건강 지향 소비자들에게 어필할 수 있는 제품이 될 것 같습니다.'
                };
                return contents[suggestion.id] || suggestion.preview;
            };

            return (
                <div className="min-h-screen bg-gray-100">
                    <div className="container mx-auto px-4 py-8 max-w-6xl">
                        {showWriteForm ? <WriteForm /> :
                        selectedSuggestion ? <DetailView suggestion={selectedSuggestion} /> :
                        currentBoard === 'main' ? <MainBoard /> :
                        <BoardView boardId={currentBoard} />}
                        
                        {passwordPrompt && <PasswordPrompt suggestion={passwordPrompt} />}
                        {showAdminLogin && <AdminLoginModal />}
                    </div>
                </div>
            );

            function MainBoard() {
                return (
                    <div className="space-y-6">
                        <div className="text-center py-8">
                            <div className="flex items-center justify-center space-x-4 mb-4">
                                <h1 className="text-3xl font-bold text-gray-800">오뚜기에스에프 건의합니다</h1>
                                <button
                                    onClick={() => setShowAdminLogin(true)}
                                    className="px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors"
                                >
                                    <Shield className="w-4 h-4 inline mr-1" />
                                    {isAdmin ? '관리자 로그아웃' : '관리자 로그인'}
                                </button>
                            </div>
                            <p className="text-gray-600">더 나은 회사를 만들어가는 여러분의 소중한 의견을 들려주세요</p>
                        </div>
                        
                        <div className="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
                            {boards.map((board) => (
                                <div
                                    key={board.id}
                                    onClick={() => setCurrentBoard(board.id)}
                                    className="bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer p-6 border-l-4 border-l-transparent hover:border-l-blue-500"
                                >
                                    <div className="flex items-center justify-between mb-4">
                                        <div className={`p-3 rounded-full ${board.color}`}>
                                            <board.icon className="w-6 h-6 text-white" />
                                        </div>
                                        <span className="bg-gray-100 text-gray-700 px-2 py-1 rounded-full text-sm font-medium">
                                            {board.count}건
                                        </span>
                                    </div>
                                    <h3 className="text-lg font-semibold text-gray-800 mb-2">{board.name}</h3>
                                    <p className="text-gray-600 text-sm">
                                        {board.id === 'team' && '팀 내 업무 개선사항이나 협업 관련 건의사항'}
                                        {board.id === 'company' && '회사 전반적인 제도나 복리후생 관련 건의사항'}
                                        {board.id === 'complaint' && '업무환경이나 시설 관련 불편사항'}
                                        {board.id === 'product' && '새로운 상품 아이디어나 기존 제품 개선 제안'}
                                    </p>
                                </div>
                            ))}
                        </div>

                        <div className="bg-white rounded-lg shadow-md p-6">
                            <h2 className="text-xl font-semibold text-gray-800 mb-4">최근 건의사항</h2>
                            <div className="space-y-3">
                                {[...suggestions.team, ...suggestions.company, ...suggestions.complaint, ...suggestions.product]
                                    .sort((a, b) => new Date(b.date) - new Date(a.date))
                                    .slice(0, 5)
                                    .map((item) => (
                                        <div key={item.id} className="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                                            <div className="flex-1">
                                                <div className="flex items-center space-x-2">
                                                    <h4 className="font-medium text-gray-800">{item.title}</h4>
                                                    {!isAdmin && <Lock className="w-3 h-3 text-gray-400" />}
                                                </div>
                                                {isAdmin && <p className="text-sm text-gray-600 mt-1">{item.preview}</p>}
                                            </div>
                                            <div className="text-right ml-4">
                                                <span className={`inline-block px-2 py-1 rounded-full text-xs font-medium ${getStatusColor(item.status)}`}>
                                                    {item.status}
                                                </span>
                                                <p className="text-xs text-gray-500 mt-1">{item.date}</p>
                                            </div>
                                        </div>
                                    ))}
                            </div>
                        </div>
                    </div>
                );
            }

            function BoardView({ boardId }) {
                const board = boards.find(b => b.id === boardId);
                const boardSuggestions = suggestions[boardId] || [];
                
                return (
                    <div className="space-y-6">
                        <div className="flex items-center justify-between">
                            <div className="flex items-center space-x-4">
                                <button
                                    onClick={() => setCurrentBoard('main')}
                                    className="text-blue-500 hover:text-blue-700 font-medium"
                                >
                                    ← 돌아가기
                                </button>
                                <div className="flex items-center space-x-3">
                                    <div className={`p-2 rounded-full ${board.color}`}>
                                        <board.icon className="w-5 h-5 text-white" />
                                    </div>
                                    <h1 className="text-2xl font-bold text-gray-800">{board.name}</h1>
                                </div>
                            </div>
                            <button
                                onClick={() => setShowWriteForm(true)}
                                className="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors"
                            >
                                <Plus className="w-4 h-4" />
                                <span>건의하기</span>
                            </button>
                        </div>

                        <div className="bg-white rounded-lg shadow-md">
                            <div className="p-4 border-b border-gray-200">
                                <span className="text-gray-700 font-medium">총 {boardSuggestions.length}건</span>
                            </div>
                            
                            <div className="divide-y divide-gray-200">
                                {boardSuggestions.map((item) => (
                                    <div
                                        key={item.id}
                                        onClick={() => handleSuggestionClick(item)}
                                        className="p-4 hover:bg-gray-50 cursor-pointer transition-colors"
                                    >
                                        <div className="flex items-start justify-between">
                                            <div className="flex-1">
                                                <div className="flex items-center space-x-2 mb-2">
                                                    <h3 className="font-medium text-gray-800">{item.title}</h3>
                                                    {!isAdmin && <Lock className="w-4 h-4 text-gray-400" />}
                                                </div>
                                                {isAdmin && <p className="text-gray-600 text-sm mb-3">{item.preview}</p>}
                                                <div className="flex items-center space-x-4 text-sm text-gray-500">
                                                    <div className="flex items-center space-x-1">
                                                        <User className="w-4 h-4" />
                                                        <span>{item.author}</span>
                                                    </div>
                                                    <div className="flex items-center space-x-1">
                                                        <Clock className="w-4 h-4" />
                                                        <span>{item.date}</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <span className={`px-2 py-1 rounded-full text-xs font-medium ${getStatusColor(item.status)}`}>
                                                {item.status}
                                            </span>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>
                );
            }

            function WriteForm() {
                const [formData, setFormData] = useState({
                    board: currentBoard !== 'main' ? currentBoard : 'team',
                    title: '',
                    content: '',
                    anonymous: true,
                    authorName: '',
                    password: ''
                });

                const handleSubmit = () => {
                    if (!formData.title || !formData.content || !formData.password) {
                        alert('제목, 내용, 비밀번호를 모두 입력해주세요.');
                        return;
                    }
                    
                    if (!formData.anonymous && !formData.authorName) {
                        alert('실명으로 작성할 경우 이름을 입력해주세요.');
                        return;
                    }
                    
                    const newSuggestion = {
                        id: Date.now(),
                        title: formData.title,
                        author: formData.anonymous ? '익명' : formData.authorName,
                        date: new Date().toISOString().split('T')[0],
                        status: '접수',
                        preview: formData.content.substring(0, 50) + '...',
                        content: formData.content,
                        reply: null,
                        password: formData.password
                    };
                    
                    setSuggestions(prev => ({
                        ...prev,
                        [formData.board]: [...prev[formData.board], newSuggestion]
                    }));
                    
                    setShowWriteForm(false);
                    alert('건의사항이 성공적으로 등록되었습니다!');
                };

                return (
                    <div className="space-y-6">
                        <div className="flex items-center justify-between">
                            <h1 className="text-2xl font-bold text-gray-800">건의사항 작성</h1>
                            <button
                                onClick={() => setShowWriteForm(false)}
                                className="text-gray-500 hover:text-gray-700"
                            >
                                ✕
                            </button>
                        </div>

                        <div className="bg-white rounded-lg shadow-md p-6 space-y-4">
                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-2">게시판 선택</label>
                                <select
                                    value={formData.board}
                                    onChange={(e) => setFormData({...formData, board: e.target.value})}
                                    className="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
                                >
                                    {boards.map(board => (
                                        <option key={board.id} value={board.id}>{board.name}</option>
                                    ))}
                                </select>
                            </div>

                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-2">제목</label>
                                <input
                                    type="text"
                                    value={formData.title}
                                    onChange={(e) => setFormData({...formData, title: e.target.value})}
                                    className="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
                                    placeholder="건의사항 제목을 입력해주세요"
                                />
                            </div>

                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-2">내용</label>
                                <textarea
                                    value={formData.content}
                                    onChange={(e) => setFormData({...formData, content: e.target.value})}
                                    rows={8}
                                    className="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
                                    placeholder="건의사항을 자세히 작성해주세요"
                                />
                            </div>

                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                    비밀번호 <span className="text-red-500">*</span>
                                </label>
                                <input
                                    type="password"
                                    value={formData.password}
                                    onChange={(e) => setFormData({...formData, password: e.target.value})}
                                    className="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
                                    placeholder="건의사항 열람용 비밀번호를 설정해주세요"
                                />
                                <p className="text-xs text-gray-500 mt-1">* 작성한 건의사항을 열람할 때 필요합니다</p>
                            </div>

                            <div className="space-y-3">
                                <div className="flex items-center space-x-2">
                                    <input
                                        type="checkbox"
                                        id="anonymous"
                                        checked={formData.anonymous}
                                        onChange={(e) => setFormData({...formData, anonymous: e.target.checked, authorName: ''})}
                                        className="rounded border-gray-300 text-blue-600 focus:ring-blue-500"
                                    />
                                    <label htmlFor="anonymous" className="text-sm text-gray-700">익명으로 작성</label>
                                </div>
                                
                                {!formData.anonymous && (
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">작성자 이름</label>
                                        <input
                                            type="text"
                                            value={formData.authorName}
                                            onChange={(e) => setFormData({...formData, authorName: e.target.value})}
                                            className="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
                                            placeholder="실명을 입력해주세요"
                                        />
                                    </div>
                                )}
                            </div>

                            <div className="flex justify-end space-x-3 pt-4">
                                <button
                                    onClick={() => setShowWriteForm(false)}
                                    className="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors"
                                >
                                    취소
                                </button>
                                <button
                                    onClick={handleSubmit}
                                    className="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors"
                                >
                                    등록하기
                                </button>
                            </div>
                        </div>
                    </div>
                );
            }

            function DetailView({ suggestion }) {
                const [replyContent, setReplyContent] = useState('');
                
                const handleReply = () => {
                    if (!replyContent.trim()) {
                        alert('답변 내용을 입력해주세요.');
                        return;
                    }
                    
                    const boardKey = Object.keys(suggestions).find(key => 
                        suggestions[key].some(item => item.id === suggestion.id)
                    );
                    
                    const updatedSuggestions = { ...suggestions };
                    const suggestionIndex = updatedSuggestions[boardKey].findIndex(item => item.id === suggestion.id);
                    
                    updatedSuggestions[boardKey][suggestionIndex] = {
                        ...updatedSuggestions[boardKey][suggestionIndex],
                        status: '답변완료',
                        reply: {
                            content: replyContent,
                            author: '인사팀 담당자',
                            date: new Date().toISOString().split('T')[0]
                        }
                    };
                    
                    setSuggestions(updatedSuggestions);
                    setSelectedSuggestion(updatedSuggestions[boardKey][suggestionIndex]);
                    setShowReplyForm(false);
                    setReplyContent('');
                    alert('답변이 등록되었습니다!');
                };
                
                const handleStatusChange = (newStatus) => {
                    const boardKey = Object.keys(suggestions).find(key => 
                        suggestions[key].some(item => item.id === suggestion.id)
                    );
                    
                    const updatedSuggestions = { ...suggestions };
                    const suggestionIndex = updatedSuggestions[boardKey].findIndex(item => item.id === suggestion.id);
                    
                    updatedSuggestions[boardKey][suggestionIndex] = {
                        ...updatedSuggestions[boardKey][suggestionIndex],
                        status: newStatus
                    };
                    
                    setSuggestions(updatedSuggestions);
                    setSelectedSuggestion(updatedSuggestions[boardKey][suggestionIndex]);
                };
                
                return (
                    <div className="space-y-6">
                        <div className="flex items-center justify-between">
                            <button
                                onClick={() => setSelectedSuggestion(null)}
                                className="text-blue-500 hover:text-blue-700 font-medium"
                            >
                                ← 목록으로
                            </button>
                            <div className="flex items-center space-x-3">
                                {isAdmin && (
                                    <select
                                        value={suggestion.status}
                                        onChange={(e) => handleStatusChange(e.target.value)}
                                        className="border border-gray-300 rounded-lg px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                                    >
                                        <option value="접수">접수</option>
                                        <option value="검토중">검토중</option>
                                        <option value="처리중">처리중</option>
                                        <option value="개발검토">개발검토</option>
                                        <option value="완료">완료</option>
                                        <option value="답변완료">답변완료</option>
                                    </select>
                                )}
                                <span className={`px-3 py-1 rounded-full text-sm font-medium ${getStatusColor(suggestion.status)}`}>
                                    {suggestion.status}
                                </span>
                            </div>
                        </div>

                        <div className="bg-white rounded-lg shadow-md p-6">
                            <h1 className="text-2xl font-bold text-gray-800 mb-4">{suggestion.title}</h1>
                            
                            <div className="flex items-center space-x-6 text-sm text-gray-500 mb-6 pb-4 border-b border-gray-200">
                                <div className="flex items-center space-x-1">
                                    <User className="w-4 h-4" />
                                    <span>{suggestion.author}</span>
                                </div>
                                <div className="flex items-center space-x-1">
                                    <Clock className="w-4 h-4" />
                                    <span>{suggestion.date}</span>
                                </div>
                            </div>

                            <div className="prose max-w-none">
                                <p className="text-gray-700 leading-relaxed whitespace-pre-wrap">
                                    {getFullContent(suggestion)}
                                </p>
                            </div>

                            {suggestion.reply && (
                                <div className="mt-8 p-4 bg-blue-50 rounded-lg">
                                    <h3 className="font-semibold text-blue-800 mb-2">담당자 답변</h3>
                                    <p className="text-blue-700 whitespace-pre-wrap">{suggestion.reply.content}</p>
                                    <div className="flex justify-between items-center mt-3 text-sm text-blue-600">
                                        <span>- {suggestion.reply.author}</span>
                                        <span>{suggestion.reply.date}</span>
                                    </div>
                                </div>
                            )}

                            {isAdmin && !suggestion.reply && (
                                <div className="mt-8">
                                    {!showReplyForm ? (
                                        <button
                                            onClick={() => setShowReplyForm(true)}
                                            className="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors"
                                        >
                                            <Reply className="w-4 h-4" />
                                            <span>답변하기</span>
                                        </button>
                                    ) : (
                                        <div className="bg-gray-50 rounded-lg p-4 space-y-4">
                                            <h3 className="font-semibold text-gray-800">답변 작성</h3>
                                            <textarea
                                                value={replyContent}
                                                onChange={(e) => setReplyContent(e.target.value)}
                                                rows={6}
                                                className="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
                                                placeholder="건의사항에 대한 답변을 작성해주세요..."
                                            />
                                            <div className="flex justify-end space-x-3">
                                                <button
                                                    onClick={() => {
                                                        setShowReplyForm(false);
                                                        setReplyContent('');
                                                    }}
                                                    className="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors"
                                                >
                                                    취소
                                                </button>
                                                <button
                                                    onClick={handleReply}
                                                    className="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors"
                                                >
                                                    답변 등록
                                                </button>
                                            </div>
                                        </div>
                                    )}
                                </div>
                            )}
                        </div>
                    </div>
                );
            }

            function PasswordPrompt({ suggestion }) {
                const handlePasswordSubmit = () => {
                    if (inputPassword === suggestion.password) {
                        setSelectedSuggestion(suggestion);
                        setPasswordPrompt(null);
                        setInputPassword('');
                    } else {
                        alert('비밀번호가 올바르지 않습니다.');
                        setInputPassword('');
                    }
                };

                const handleCancel = () => {
                    setPasswordPrompt(null);
                    setInputPassword('');
                };

                return (
                    <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
                        <div className="bg-white rounded-lg p-6 w-96 mx-4">
                            <h2 className="text-xl font-bold text-gray-800 mb-4">비밀번호 입력</h2>
                            <p className="text-gray-600 mb-4">{suggestion.title} 건의사항을 열람하려면 비밀번호를 입력하세요.</p>
                            
                            <input
                                type="password"
                                value={inputPassword}
                                onChange={(e) => setInputPassword(e.target.value)}
                                onKeyPress={(e) => e.key === 'Enter' && handlePasswordSubmit()}
                                className="w-full border border-gray-300 rounded-lg px-3 py-2 mb-4 focus:outline-none focus:ring-2 focus:ring-blue-500"
                                placeholder="비밀번호를 입력하세요"
                                autoFocus
                            />
                            
                            <div className="flex justify-end space-x-3">
                                <button
                                    onClick={handleCancel}
                                    className="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors"
                                >
                                    취소
                                </button>
                                <button
                                    onClick={handlePasswordSubmit}
                                    className="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors"
                                >
                                    확인
                                </button>
                            </div>
                        </div>
                    </div>
                );
            }

            function AdminLoginModal() {
                return (
                    <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
                        <div className="bg-white rounded-lg p-6 w-96 mx-4">
                            <h2 className="text-xl font-bold text-gray-800 mb-4">관리자 로그인</h2>
                            <p className="text-gray-600 mb-4">관리자 모드에 접속하려면 비밀번호를 입력하세요.</p>
                            
                            <input
                                type="password"
                                value={adminPassword}
                                onChange={(e) => setAdminPassword(e.target.value)}
                                onKeyPress={(e) => e.key === 'Enter' && handleAdminLogin()}
                                className="w-full border border-gray-300 rounded-lg px-3 py-2 mb-4 focus:outline-none focus:ring-2 focus:ring-blue-500"
                                placeholder="관리자 비밀번호를 입력하세요"
                                autoFocus
                            />
                            
                            <div className="flex justify-end space-x-3">
                                <button
                                    onClick={() => {
                                        setShowAdminLogin(false);
                                        setAdminPassword('');
                                    }}
                                    className="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors"
                                >
                                    취소
                                </button>
                                <button
                                    onClick={handleAdminLogin}
                                    className="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors"
                                >
                                    로그인
                                </button>
                            </div>
                        </div>
                    </div>
                );
            }
        }

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
